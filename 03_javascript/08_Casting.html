<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casting</title>
</head>
<body>
    <h1>Casting</h1>
    <input type="button" value="실행" onclick="test1();">
    <script>
    function test1(){
        console.log(3 + 7 +"7"); //107   77
        console.log(typeof(3 + 7 +"7")); //string

//  더하기를 제외하고는 뒤에 숫자가 오기를 기대하기때문에 자동형변환이 이루어짐
        console.log(7 -"7");//0
        // 7 - 7(자동형변환) = 0
        console.log(7 * "7"); //49
        console.log(7 / "7"); //1
        console.log(7 % "4"); //3

        console.log(7 % 'a'); //NaN  not a number ->숫자로 자동형변환이 불가한 우항 => 산술연산이 일어날 수 없음
        console.log(typeof(NaN)); // number  NaN : 숫자를 기대하는데 숫자가 아닐때의 키워드
        // null - object
        //키워드와 타입 관계 잘 보기
    }   
    </script>
    <h2>Number | parseInt | parseFloat </h2>
    <input type="button" value="실행" onclick="test2()">
    <script>
    var test2= function(){
        var num= '1234.567';
        console.log(Number(num)); //1234.567 정수/실수 변환
        console.log(parseInt(num)); // 1234 정수변환
        console.log(parseFloat(num));// 1234.567 실수로 변환
        
        var num= '1234.567원';
        console.log(Number(num)); //NaN 변화불가한 문자 있으면 NaN을 리턴
        // 왼쪽부터 변환이 시작 
        console.log(parseInt(num)); //1234 문자가 있어도 좌측부터 최대한 변환
        console.log(parseFloat(num));// 1234.567 실수로 변환. 문자가 있어도 좌측부터 최대한 변환
    }
    </script>
    <input type="number" id="num1" placeholder="숫자1"> 
    <!-- type이 number이지만 다 문자열이다. -->
    <input type="number" id="num2" placeholder="숫자2">
    <input type="button" value="합 계산" onclick="test3();">
    <script>
    /**
     * #num1, #num2의 값을 더해서 출력하세요
     * 
     * input태그의 value는 type속성과 관계없이 모두 string이다.
     * */
    var test3 = function(){ 
        var sum = Number(num1.value) + Number(num2.value);
        console.log(sum);
    }
    </script>

    <h2>NaN | infinity</h2>
    <input type="button" value="실행" onclick="test4();">
    <script>
    var test4 = function(){
        //자바에서는 산술연산 예외가 발생
        console.log(10/0); //infinity
        console.log(typeof(10/0)); // number
        
        console.log(10/"a"); // NaN과의 연산은 무조건 NaN
        console.log(typeof(10/"a")); // number

        var num = prompt("숫자를 입력하세요.");
        console.log(typeof(num)); //string "123"

        if(isNaN(num)) 
            alert("숫자가 아닙니다.");//숫자로 변환이 안되었을때
        else
            alert("숫자입니다.");//숫자로 변환 되었을때
    }
    </script>

    <h2>논리형으로의 형변환</h2>
    <input type="button" value="실행" onclick="test5();">
    <script>
    /**
     * 변수, 리터럴(값)이 boolean형으로 형변환 가능
     * 
     * 값이 존재하는 것은 true 치환 : 123, -100, 3.14, "안녕", 'ㅋㅋㅋ'
     * 값이 존재하지 않는 것은 false 치환 :0, 0.0,"",'',undefined,null,NaN
     */
    var test5 = function(){
        console.log(Boolean(123));
        console.log(Boolean(-100));
        console.log(Boolean(3.14));
        console.log(Boolean("안녕"));
        console.log(Boolean("abc"));
        console.log(Boolean('ㅋㅋㅋ'));
        console.log(Boolean(new Date()));
        
        console.log(Boolean(0));
        console.log(Boolean(0.0));
        console.log(Boolean(""));
        console.log(Boolean(undefined));
        console.log(Boolean(null));
        console.log(Boolean(NaN));

        var name = prompt("이름을 입력하세요.");
        //1. "홍길동" 확인 -> "홍길동" ->true
        //2. ""확인 -> ""            -> false
        // 3. 취소 -> null           -> false

        if(name){
            // alert("반갑습니다 [" +name+"]님~");
        
            var result = document.querySelector("#result");
            console.log(result);

            if(result){
                console.log("#result가 존재")
                result.innerHTML ="반갑습니다 [" +name+"]님~";
            }
            else{
                console.log("#result가 존재하지 않음")
                //없으면 만들어라
                document.querySelector("body").innerHTML 
                += "<h1>반갑습니다 [" +name+"]님~</h1>"
            }
        
        }
        else{
            alert("올바른 이름을 입력하세요.")
        }
        


    }

    </script>
    <!-- <h1 id="result"></h1> -->

</body>
</html>